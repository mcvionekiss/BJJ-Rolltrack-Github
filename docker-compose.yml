services:
  backend:
      build:
        context: ./backend
        dockerfile: ./Dockerfile
        no_cache: true
      ports:
        - "8000:8000"
      volumes:
        - ./backend:/app
      environment:
        - DEBUG=False
        - DJANGO_SECRET_KEY=your-secret-key
        - DB_NAME=test
        - DB_USER=admin
        - DB_PASSWORD=your-password
        - DB_HOST=your-host
        - DB_PORT=3306

  frontend:
    build:
      context: ./frontend
      dockerfile: ./Dockerfile
      no_cache: true
    ports:
      - "3000:3000"
    volumes:
      - ./frontend:/app/frontend
      - frontend_node_modules:/app/frontend/node_modules
volumes:
  frontend_node_modules: